\* TLC Model Checking Configuration for fugue_convergence.tla
\*
\* This configuration file defines constants, invariants, and properties
\* to verify for the Fugue convergence specification.
\*
\* To run: tlc fugue_convergence.tla -config fugue_convergence.cfg

SPECIFICATION Spec

\* =============================================================================
\* CONSTANTS
\* =============================================================================

CONSTANTS
  Clients = {c1, c2, c3}
  MaxClock = 10
  NULL = NULL

\* =============================================================================
\* INVARIANTS (Safety Properties - Must Always Hold)
\* =============================================================================

INVARIANT TypeInvariant
INVARIANT StrongEventualConsistency
INVARIANT OrderIndependence
INVARIANT ReplicaStateInvariant
INVARIANT AllOperationsValid
INVARIANT DeliveredSubsetOfOperations
INVARIANT NetworkSubsetOfOperations
\* Merge-based invariants disabled - not applicable to operation-based CRDTs
\* In Fugue, replicas exchange operations, not full states
\* INVARIANT MergeCommutativity
\* INVARIANT MergeAssociativity
\* INVARIANT MergeIdempotence
INVARIANT CausalityPreserved
INVARIANT ConflictFree

\* Temporal properties (using [] operator) - commented out for now
\* These would need to be checked separately with temporal logic model checking
\* PROPERTY MonotonicConvergence

\* =============================================================================
\* STATE CONSTRAINTS (Limit State Space for Model Checking)
\* =============================================================================

\* CONSTRAINT Cardinality(operations) <= 10
\* Note: State constraints would go here if needed for reducing state space
\* For now, we rely on the bounded operation generation in the spec itself

\* =============================================================================
\* SYMMETRY (Reduce State Space via Symmetry)
\* =============================================================================

\* Clients are symmetric - permuting them doesn't change behavior
\* SYMMETRY Permutations(Clients)  \* Commented out - TLC doesn't support this syntax in cfg files

\* =============================================================================
\* MODEL CHECKING PARAMETERS
\* =============================================================================

\* Check deadlock freedom (generally yes for CRDT specs)
\* CHECK_DEADLOCK is enabled by default in TLC

\* Depth-first search (default)
\* ALIAS for viewing states (optional - uncomment if needed)
\* ALIAS ViewState

\* =============================================================================
\* EXPECTED RESULTS
\* =============================================================================

\* States explored: 50,000-100,000
\* Runtime: 5-10 minutes
\* Memory: 2-4 GB
\*
\* All invariants should be SATISFIED
\* All properties should be SATISFIED
\*
\* If any violation found, TLC will produce counterexample trace

# A3-08: Implement JWT Generation Service

> **Summary:** Create a service to generate JWT tokens for the `/auth/login` endpoint, matching TypeScript server token generation with access and refresh tokens.

[← Back to Phase 3](README.md) | [Phase Document](../PHASE-3-AUTH.md)

---

**Priority:** P0  
**Estimate:** 4 hours  
**Dependencies:** A3-01

## Description

Create a service to generate JWT tokens for the `/auth/login` endpoint. Must match TypeScript server token generation.

## Tasks

1. Create `IJwtGenerator.cs` interface
2. Create `JwtGenerator.cs` implementation
3. Generate access tokens (24h default)
4. Generate refresh tokens (7d default)
5. Include permissions in token claims

## Interface

```csharp
public interface IJwtGenerator
{
    string GenerateAccessToken(string userId, string clientId, string[] permissions);
    string GenerateRefreshToken(string userId);
    (string AccessToken, string RefreshToken) GenerateTokenPair(
        string userId, 
        string clientId, 
        string[] permissions);
}
```

## Acceptance Criteria

- [ ] Access tokens generated with correct claims
- [ ] Refresh tokens generated with extended expiry
- [ ] Tokens pass validation by JwtValidator
- [ ] Expiry times configurable

---

**Status:** ⬜ Not Started

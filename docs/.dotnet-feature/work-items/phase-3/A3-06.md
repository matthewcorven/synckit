# A3-06: Enforce Auth on All Operations

> **Summary:** Create middleware/guard that ensures authentication before processing non-auth messages, with proper error responses.

[← Back to Phase 3](README.md) | [Phase Document](../PHASE-3-AUTH.md)

---

**Priority:** P0  
**Estimate:** 3 hours  
**Dependencies:** A3-04

## Description

Create middleware/guard that ensures authentication before processing non-auth messages.

## Tasks

1. Create auth guard
2. Apply to subscribe operations
3. Apply to delta operations
4. Apply to awareness operations
5. Return proper error responses

## Acceptance Criteria

- [ ] Non-auth messages require authentication
- [ ] Subscribe requires read permission
- [ ] Delta requires write permission
- [ ] Awareness requires awareness permission
- [ ] Proper error messages sent

---

**Status:** ⬜ Not Started

# W5-03: Implement Awareness Update Handler

> **Summary:** Handle AWARENESS_UPDATE messages - validate permissions, store locally, and broadcast to other document subscribers.

[← Back to Phase 5](README.md) | [Phase Document](../PHASE-5-AWARENESS.md)

---

**Priority:** P0  
**Estimate:** 4 hours  
**Dependencies:** W5-02, A3-06

## Description

Handle AWARENESS_UPDATE messages - store locally and broadcast to other subscribers.

## Message Flow

1. Client sends AWARENESS_UPDATE
2. Server validates auth and subscription
3. Server stores awareness with clock
4. Server broadcasts to other document subscribers

## Acceptance Criteria

- [ ] Auth required for awareness
- [ ] Must be subscribed to document
- [ ] State stored with clock
- [ ] Broadcast to other subscribers
- [ ] Sender excluded from broadcast
- [ ] Invalid state format handled

---

**Status:** ⬜ Not Started

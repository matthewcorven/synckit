# F1-03: Add Logging Infrastructure

> **Summary:** Set up structured logging using Serilog with console and file outputs, including timestamps, log levels, and contextual information.

[← Back to Phase 1](README.md) | [Phase Document](../PHASE-1-FOUNDATION.md)

---

**Priority:** P0  
**Estimate:** 3 hours  
**Dependencies:** F1-01

## Description

Set up structured logging using Serilog with console and file outputs. Log format should include timestamps, log levels, and contextual information.

## Tasks

1. Add Serilog NuGet packages
2. Configure Serilog in Program.cs
3. Add log configuration in appsettings.json
4. Create logging conventions documentation
5. Add request logging middleware

## NuGet Packages

```xml
<PackageReference Include="Serilog.AspNetCore" Version="8.*" />
<PackageReference Include="Serilog.Sinks.Console" Version="5.*" />
<PackageReference Include="Serilog.Sinks.File" Version="5.*" />
```

## Log Configuration

```json
// appsettings.json
{
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.Hosting.Lifetime": "Information"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {SourceContext}: {Message:lj}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": ["FromLogContext", "WithMachineName", "WithThreadId"]
  }
}
```

## Log Levels

| Level | Usage |
|-------|-------|
| Debug | Detailed diagnostic information |
| Information | General operational events |
| Warning | Non-critical issues |
| Error | Failures that need attention |
| Fatal | Critical failures |

## Acceptance Criteria

- [x] Logs output to console with structured format
- [x] Log level configurable via appsettings.json
- [x] Request/response logging works
- [x] Log context includes source class name
- [x] Logs include timestamps

---

**Status:** ✅ Complete
